{"ast":null,"code":"import React from'react';import CurrentUserContext from'../contexts/CurrentUserContext';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Card(props){var imageDataForPopup=function imageDataForPopup(){props.onClick();props.updateCardData(card);};var currentUser=React.useContext(CurrentUserContext);// Checking if the current user is the owner of the current card\nvar card=props.card;var isOwn=card.owner===currentUser._id;// Creating a variable which you'll then set in `className` for the delete button\nvar cardEraseButtonClassName=\"card__erase \".concat(isOwn?'card__erase':'card__erase_hidden');// Check if the card was liked by the current user\nvar isLiked=card.likes.some(function(i){return i===currentUser._id;});// Create a variable which you then set in `className` for the like button\nvar cardLikeButtonClassName=\"card__like-button \".concat(isLiked?'card__like-button_active':'card__like-button');function handleLikeClick(){props.onCardLike(card);}function handleDeleteClick(){props.onCardDelete(card);}return/*#__PURE__*/_jsxs(\"li\",{className:\"card\",children:[/*#__PURE__*/_jsx(\"button\",{className:cardEraseButtonClassName,type:\"button\",\"aria-label\":\"erase-button\",onClick:handleDeleteClick}),/*#__PURE__*/_jsx(\"img\",{className:\"card__image\",onClick:imageDataForPopup,src:card.link,alt:card.name}),/*#__PURE__*/_jsxs(\"div\",{className:\"card__photo-description\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"card__text\",children:card.name}),/*#__PURE__*/_jsxs(\"div\",{className:\"card__heart-container\",children:[/*#__PURE__*/_jsx(\"button\",{className:cardLikeButtonClassName,type:\"button\",\"aria-label\":\"like-button\",onClick:handleLikeClick}),/*#__PURE__*/_jsx(\"span\",{className:\"card__like-count\",children:card.likes.length})]})]})]});}export default Card;","map":{"version":3,"sources":["/Users/ilan/dev/react-around-api-full/frontend/src/components/Card.js"],"names":["React","CurrentUserContext","Card","props","imageDataForPopup","onClick","updateCardData","card","currentUser","useContext","isOwn","owner","_id","cardEraseButtonClassName","isLiked","likes","some","i","cardLikeButtonClassName","handleLikeClick","onCardLike","handleDeleteClick","onCardDelete","link","name","length"],"mappings":"AAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,kBAAP,KAA+B,gCAA/B,C,wFAEA,QAASC,CAAAA,IAAT,CAAcC,KAAd,CAAqB,CACnB,GAAMC,CAAAA,iBAAiB,CAAG,QAApBA,CAAAA,iBAAoB,EAAM,CAC9BD,KAAK,CAACE,OAAN,GACAF,KAAK,CAACG,cAAN,CAAqBC,IAArB,EACD,CAHD,CAKA,GAAMC,CAAAA,WAAW,CAAGR,KAAK,CAACS,UAAN,CAAiBR,kBAAjB,CAApB,CAEA;AACA,GAAMM,CAAAA,IAAI,CAAGJ,KAAK,CAACI,IAAnB,CACA,GAAMG,CAAAA,KAAK,CAAGH,IAAI,CAACI,KAAL,GAAeH,WAAW,CAACI,GAAzC,CAEA;AACA,GAAMC,CAAAA,wBAAwB,uBAC5BH,KAAK,CAAG,aAAH,CAAmB,oBADI,CAA9B,CAIA;AACA,GAAMI,CAAAA,OAAO,CAAGP,IAAI,CAACQ,KAAL,CAAWC,IAAX,CAAgB,SAACC,CAAD,QAAOA,CAAAA,CAAC,GAAKT,WAAW,CAACI,GAAzB,EAAhB,CAAhB,CAEA;AACA,GAAMM,CAAAA,uBAAuB,6BAC3BJ,OAAO,CAAG,0BAAH,CAAgC,mBADZ,CAA7B,CAIA,QAASK,CAAAA,eAAT,EAA2B,CACzBhB,KAAK,CAACiB,UAAN,CAAiBb,IAAjB,EACD,CAED,QAASc,CAAAA,iBAAT,EAA6B,CAC3BlB,KAAK,CAACmB,YAAN,CAAmBf,IAAnB,EACD,CAED,mBACE,YAAI,SAAS,CAAC,MAAd,wBACE,eACE,SAAS,CAAEM,wBADb,CAEE,IAAI,CAAC,QAFP,CAGE,aAAW,cAHb,CAIE,OAAO,CAAEQ,iBAJX,EADF,cAOE,YACE,SAAS,CAAC,aADZ,CAEE,OAAO,CAAEjB,iBAFX,CAGE,GAAG,CAAEG,IAAI,CAACgB,IAHZ,CAIE,GAAG,CAAEhB,IAAI,CAACiB,IAJZ,EAPF,cAaE,aAAK,SAAS,CAAC,yBAAf,wBACE,WAAI,SAAS,CAAC,YAAd,UAA4BjB,IAAI,CAACiB,IAAjC,EADF,cAEE,aAAK,SAAS,CAAC,uBAAf,wBACE,eACE,SAAS,CAAEN,uBADb,CAEE,IAAI,CAAC,QAFP,CAGE,aAAW,aAHb,CAIE,OAAO,CAAEC,eAJX,EADF,cAOE,aAAM,SAAS,CAAC,kBAAhB,UAAoCZ,IAAI,CAACQ,KAAL,CAAWU,MAA/C,EAPF,GAFF,GAbF,GADF,CA4BD,CAED,cAAevB,CAAAA,IAAf","sourcesContent":["import React from 'react';\nimport CurrentUserContext from '../contexts/CurrentUserContext';\n\nfunction Card(props) {\n  const imageDataForPopup = () => {\n    props.onClick();\n    props.updateCardData(card);\n  };\n\n  const currentUser = React.useContext(CurrentUserContext);\n\n  // Checking if the current user is the owner of the current card\n  const card = props.card;\n  const isOwn = card.owner === currentUser._id;\n\n  // Creating a variable which you'll then set in `className` for the delete button\n  const cardEraseButtonClassName = `card__erase ${\n    isOwn ? 'card__erase' : 'card__erase_hidden'\n  }`;\n\n  // Check if the card was liked by the current user\n  const isLiked = card.likes.some((i) => i === currentUser._id);\n\n  // Create a variable which you then set in `className` for the like button\n  const cardLikeButtonClassName = `card__like-button ${\n    isLiked ? 'card__like-button_active' : 'card__like-button'\n  }`;\n\n  function handleLikeClick() {\n    props.onCardLike(card);\n  }\n\n  function handleDeleteClick() {\n    props.onCardDelete(card);\n  }\n\n  return (\n    <li className=\"card\">\n      <button\n        className={cardEraseButtonClassName}\n        type=\"button\"\n        aria-label=\"erase-button\"\n        onClick={handleDeleteClick}\n      ></button>\n      <img\n        className=\"card__image\"\n        onClick={imageDataForPopup}\n        src={card.link}\n        alt={card.name}\n      />\n      <div className=\"card__photo-description\">\n        <h2 className=\"card__text\">{card.name}</h2>\n        <div className=\"card__heart-container\">\n          <button\n            className={cardLikeButtonClassName}\n            type=\"button\"\n            aria-label=\"like-button\"\n            onClick={handleLikeClick}\n          ></button>\n          <span className=\"card__like-count\">{card.likes.length}</span>\n        </div>\n      </div>\n    </li>\n  );\n}\n\nexport default Card;\n"]},"metadata":{},"sourceType":"module"}