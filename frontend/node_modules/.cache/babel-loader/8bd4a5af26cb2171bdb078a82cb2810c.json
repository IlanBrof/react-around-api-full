{"ast":null,"code":"import _slicedToArray from\"/Users/ilan/dev/around-react_p10/around-react/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from'react';import{api}from'../utils/api';import Card from'./Card';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Main(props){var _React$useState=React.useState({}),_React$useState2=_slicedToArray(_React$useState,2),user=_React$useState2[0],setUser=_React$useState2[1];var _React$useState3=React.useState([]),_React$useState4=_slicedToArray(_React$useState3,2),cards=_React$useState4[0],setCards=_React$useState4[1];React.useEffect(function(){api.getUserInfo().then(function(data){setUser({name:data.name,about:data.about,avatar:data.avatar});}).catch(function(err){console.log(err);});},[]);React.useEffect(function(){api.getInitialCards().then(function(data){setCards(data);}).catch(function(err){console.log(err);});},[]);return/*#__PURE__*/_jsxs(\"main\",{className:\"main\",children:[/*#__PURE__*/_jsxs(\"section\",{className:\"profile-menu\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"profile-menu__profile-pic\",children:[/*#__PURE__*/_jsx(\"img\",{className:\"profile-menu__avatar\",src:user.avatar,id:\"avatar_image\",alt:\"avatar image\"}),/*#__PURE__*/_jsx(\"button\",{onClick:props.onEditAvatarClick,className:\"profile-menu__avatar-button\",type:\"button\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"profile-menu__info\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"profile-menu__alignment\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"profile-menu__full-name\",children:user.name}),/*#__PURE__*/_jsx(\"button\",{onClick:props.onEditProfileClick,className:\"profile-menu__edit-button\",type:\"button\",\"aria-label\":\"edit-button\"})]}),/*#__PURE__*/_jsx(\"p\",{className:\"profile-menu__title\",children:user.about})]}),/*#__PURE__*/_jsx(\"button\",{onClick:props.onAddPlaceClick,className:\"profile-menu__add-button\",type:\"button\",\"aria-label\":\"add-button\"})]}),/*#__PURE__*/_jsx(\"section\",{className:\"cards\",children:/*#__PURE__*/_jsx(\"ul\",{className:\"cards__list\",children:cards.map(function(element){return/*#__PURE__*/_jsx(Card,{card:element,onClick:props.onCardImageClick,updateCardData:props.updateCardData},element._id);})})})]});}export default Main;","map":{"version":3,"sources":["/Users/ilan/dev/around-react_p10/around-react/src/components/Main.js"],"names":["React","api","Card","Main","props","useState","user","setUser","cards","setCards","useEffect","getUserInfo","then","data","name","about","avatar","catch","err","console","log","getInitialCards","onEditAvatarClick","onEditProfileClick","onAddPlaceClick","map","element","onCardImageClick","updateCardData","_id"],"mappings":"mIAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,GAAT,KAAoB,cAApB,CACA,MAAOC,CAAAA,IAAP,KAAiB,QAAjB,C,wFAEA,QAASC,CAAAA,IAAT,CAAcC,KAAd,CAAqB,CACnB,oBAAwBJ,KAAK,CAACK,QAAN,CAAe,EAAf,CAAxB,oDAAOC,IAAP,qBAAaC,OAAb,qBACA,qBAA0BP,KAAK,CAACK,QAAN,CAAe,EAAf,CAA1B,qDAAOG,KAAP,qBAAcC,QAAd,qBAEAT,KAAK,CAACU,SAAN,CAAgB,UAAM,CACpBT,GAAG,CACAU,WADH,GAEGC,IAFH,CAEQ,SAACC,IAAD,CAAU,CACdN,OAAO,CAAC,CACNO,IAAI,CAAED,IAAI,CAACC,IADL,CAENC,KAAK,CAAEF,IAAI,CAACE,KAFN,CAGNC,MAAM,CAAEH,IAAI,CAACG,MAHP,CAAD,CAAP,CAKD,CARH,EASGC,KATH,CASS,SAACC,GAAD,CAAS,CACdC,OAAO,CAACC,GAAR,CAAYF,GAAZ,EACD,CAXH,EAYD,CAbD,CAaG,EAbH,EAeAlB,KAAK,CAACU,SAAN,CAAgB,UAAM,CACpBT,GAAG,CACAoB,eADH,GAEGT,IAFH,CAEQ,SAACC,IAAD,CAAU,CACdJ,QAAQ,CAACI,IAAD,CAAR,CACD,CAJH,EAKGI,KALH,CAKS,SAACC,GAAD,CAAS,CACdC,OAAO,CAACC,GAAR,CAAYF,GAAZ,EACD,CAPH,EAQD,CATD,CASG,EATH,EAWA,mBACE,cAAM,SAAS,CAAC,MAAhB,wBACE,iBAAS,SAAS,CAAC,cAAnB,wBACE,aAAK,SAAS,CAAC,2BAAf,wBACE,YACE,SAAS,CAAC,sBADZ,CAEE,GAAG,CAAEZ,IAAI,CAACU,MAFZ,CAGE,EAAE,CAAC,cAHL,CAIE,GAAG,CAAC,cAJN,EADF,cAOE,eACE,OAAO,CAAEZ,KAAK,CAACkB,iBADjB,CAEE,SAAS,CAAC,6BAFZ,CAGE,IAAI,CAAC,QAHP,EAPF,GADF,cAcE,aAAK,SAAS,CAAC,oBAAf,wBACE,aAAK,SAAS,CAAC,yBAAf,wBACE,WAAI,SAAS,CAAC,yBAAd,UAAyChB,IAAI,CAACQ,IAA9C,EADF,cAEE,eACE,OAAO,CAAEV,KAAK,CAACmB,kBADjB,CAEE,SAAS,CAAC,2BAFZ,CAGE,IAAI,CAAC,QAHP,CAIE,aAAW,aAJb,EAFF,GADF,cAUE,UAAG,SAAS,CAAC,qBAAb,UAAoCjB,IAAI,CAACS,KAAzC,EAVF,GAdF,cA0BE,eACE,OAAO,CAAEX,KAAK,CAACoB,eADjB,CAEE,SAAS,CAAC,0BAFZ,CAGE,IAAI,CAAC,QAHP,CAIE,aAAW,YAJb,EA1BF,GADF,cAmCE,gBAAS,SAAS,CAAC,OAAnB,uBACE,WAAI,SAAS,CAAC,aAAd,UACGhB,KAAK,CAACiB,GAAN,CAAU,SAACC,OAAD,qBACT,KAAC,IAAD,EAEE,IAAI,CAAEA,OAFR,CAGE,OAAO,CAAEtB,KAAK,CAACuB,gBAHjB,CAIE,cAAc,CAAEvB,KAAK,CAACwB,cAJxB,EACOF,OAAO,CAACG,GADf,CADS,EAAV,CADH,EADF,EAnCF,GADF,CAkDD,CAED,cAAe1B,CAAAA,IAAf","sourcesContent":["import React from 'react';\nimport { api } from '../utils/api';\nimport Card from './Card';\n\nfunction Main(props) {\n  const [user, setUser] = React.useState({});\n  const [cards, setCards] = React.useState([]);\n\n  React.useEffect(() => {\n    api\n      .getUserInfo()\n      .then((data) => {\n        setUser({\n          name: data.name,\n          about: data.about,\n          avatar: data.avatar,\n        });\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }, []);\n\n  React.useEffect(() => {\n    api\n      .getInitialCards()\n      .then((data) => {\n        setCards(data);\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }, []);\n\n  return (\n    <main className=\"main\">\n      <section className=\"profile-menu\">\n        <div className=\"profile-menu__profile-pic\">\n          <img\n            className=\"profile-menu__avatar\"\n            src={user.avatar}\n            id=\"avatar_image\"\n            alt=\"avatar image\"\n          ></img>\n          <button\n            onClick={props.onEditAvatarClick}\n            className=\"profile-menu__avatar-button\"\n            type=\"button\"\n          ></button>\n        </div>\n        <div className=\"profile-menu__info\">\n          <div className=\"profile-menu__alignment\">\n            <h1 className=\"profile-menu__full-name\">{user.name}</h1>\n            <button\n              onClick={props.onEditProfileClick}\n              className=\"profile-menu__edit-button\"\n              type=\"button\"\n              aria-label=\"edit-button\"\n            ></button>\n          </div>\n          <p className=\"profile-menu__title\">{user.about}</p>\n        </div>\n        <button\n          onClick={props.onAddPlaceClick}\n          className=\"profile-menu__add-button\"\n          type=\"button\"\n          aria-label=\"add-button\"\n        ></button>\n      </section>\n\n      <section className=\"cards\">\n        <ul className=\"cards__list\">\n          {cards.map((element) => (\n            <Card\n              key={element._id}\n              card={element}\n              onClick={props.onCardImageClick}\n              updateCardData={props.updateCardData}\n            />\n          ))}\n        </ul>\n      </section>\n    </main>\n  );\n}\n\nexport default Main;\n"]},"metadata":{},"sourceType":"module"}