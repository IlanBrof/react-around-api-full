{"ast":null,"code":"import _slicedToArray from\"/Users/ilan/dev/around-react_p10/around-react/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from\"react\";import{api}from'../utils/api';import Card from'./Card';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Main(props){var _React$useState=React.useState({}),_React$useState2=_slicedToArray(_React$useState,2),user=_React$useState2[0],setUser=_React$useState2[1];var _React$useState3=React.useState([]),_React$useState4=_slicedToArray(_React$useState3,2),cards=_React$useState4[0],setCards=_React$useState4[1];React.useEffect(function(){api.getUserInfo().then(function(data){setUser({name:data.name,about:data.about,avatar:data.avatar});}).catch(function(err){console.log(err);});},[]);React.useEffect(function(){api.getInitialCards().then(function(data){setCards(data);}).catch(function(err){console.log(err);});});return/*#__PURE__*/_jsxs(\"main\",{className:\"main\",children:[/*#__PURE__*/_jsxs(\"section\",{className:\"profile-menu\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"profile-menu__profile-pic\",children:[/*#__PURE__*/_jsx(\"img\",{className:\"profile-menu__avatar\",src:user.avatar,id:\"avatar_image\",alt:\"\"}),/*#__PURE__*/_jsx(\"button\",{onClick:props.onEditAvatarClick,className:\"profile-menu__avatar-button\",type:\"button\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"profile-menu__info\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"profile-menu__alignment\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"profile-menu__full-name\",children:user.name}),/*#__PURE__*/_jsx(\"button\",{onClick:props.onEditProfileClick,className:\"profile-menu__edit-button\",type:\"button\",\"aria-label\":\"edit-button\"})]}),/*#__PURE__*/_jsx(\"p\",{className:\"profile-menu__title\",children:user.about})]}),/*#__PURE__*/_jsx(\"button\",{onClick:props.onAddPlaceClick,className:\"profile-menu__add-button\",type:\"button\",\"aria-label\":\"add-button\"})]}),/*#__PURE__*/_jsx(\"section\",{className:\"cards\",children:/*#__PURE__*/_jsx(\"ul\",{className:\"cards__list\",children:cards.map(function(element){return/*#__PURE__*/_jsx(Card,{card:element,onClick:props.onCardImageClick,updateCardData:props.updateCardData},element._id);})})})]});}export default Main;","map":{"version":3,"sources":["/Users/ilan/dev/around-react_p10/around-react/src/components/Main.js"],"names":["React","api","Card","Main","props","useState","user","setUser","cards","setCards","useEffect","getUserInfo","then","data","name","about","avatar","catch","err","console","log","getInitialCards","onEditAvatarClick","onEditProfileClick","onAddPlaceClick","map","element","onCardImageClick","updateCardData","_id"],"mappings":"mIAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,GAAT,KAAoB,cAApB,CACA,MAAOC,CAAAA,IAAP,KAAiB,QAAjB,C,wFAEA,QAASC,CAAAA,IAAT,CAAcC,KAAd,CAAqB,CAEnB,oBAAwBJ,KAAK,CAACK,QAAN,CAAe,EAAf,CAAxB,oDAAOC,IAAP,qBAAaC,OAAb,qBACA,qBAA0BP,KAAK,CAACK,QAAN,CAAe,EAAf,CAA1B,qDAAOG,KAAP,qBAAcC,QAAd,qBAEAT,KAAK,CAACU,SAAN,CAAgB,UAAM,CACpBT,GAAG,CAACU,WAAJ,GACGC,IADH,CACQ,SAAAC,IAAI,CAAI,CACZN,OAAO,CAAC,CACNO,IAAI,CAAED,IAAI,CAACC,IADL,CAENC,KAAK,CAAEF,IAAI,CAACE,KAFN,CAGNC,MAAM,CAAEH,IAAI,CAACG,MAHP,CAAD,CAAP,CAKD,CAPH,EAQGC,KARH,CAQS,SAAAC,GAAG,CAAI,CACZC,OAAO,CAACC,GAAR,CAAYF,GAAZ,EACD,CAVH,EAWD,CAZD,CAYG,EAZH,EAcAlB,KAAK,CAACU,SAAN,CAAgB,UAAM,CACpBT,GAAG,CAACoB,eAAJ,GACGT,IADH,CACQ,SAAAC,IAAI,CAAI,CACZJ,QAAQ,CAACI,IAAD,CAAR,CACD,CAHH,EAIGI,KAJH,CAIS,SAAAC,GAAG,CAAI,CACZC,OAAO,CAACC,GAAR,CAAYF,GAAZ,EACD,CANH,EAOD,CARD,EAUE,mBACI,cAAM,SAAS,CAAC,MAAhB,wBACA,iBAAS,SAAS,CAAC,cAAnB,wBACE,aAAK,SAAS,CAAC,2BAAf,wBACE,YAAK,SAAS,CAAC,sBAAf,CAAsC,GAAG,CAAGZ,IAAI,CAACU,MAAjD,CAA0D,EAAE,CAAC,cAA7D,CAA4E,GAAG,CAAC,EAAhF,EADF,cAEU,eAAQ,OAAO,CAAGZ,KAAK,CAACkB,iBAAxB,CAA4C,SAAS,CAAC,6BAAtD,CAAoF,IAAI,CAAC,QAAzF,EAFV,GADF,cAKE,aAAK,SAAS,CAAC,oBAAf,wBACE,aAAK,SAAS,CAAC,yBAAf,wBACE,WAAI,SAAS,CAAC,yBAAd,UAA0ChB,IAAI,CAACQ,IAA/C,EADF,cAEY,eAAQ,OAAO,CAAGV,KAAK,CAACmB,kBAAxB,CAA4C,SAAS,CAAC,2BAAtD,CAAkF,IAAI,CAAC,QAAvF,CAAgG,aAAW,aAA3G,EAFZ,GADF,cAKE,UAAG,SAAS,CAAC,qBAAb,UAAqCjB,IAAI,CAACS,KAA1C,EALF,GALF,cAYQ,eAAQ,OAAO,CAAGX,KAAK,CAACoB,eAAxB,CAA0C,SAAS,CAAC,0BAApD,CAA+E,IAAI,CAAC,QAApF,CAA6F,aAAW,YAAxG,EAZR,GADA,cAgBA,gBAAS,SAAS,CAAC,OAAnB,uBACA,WAAI,SAAS,CAAC,aAAd,UAEIhB,KAAK,CAACiB,GAAN,CAAU,SAACC,OAAD,qBACR,KAAC,IAAD,EAAwB,IAAI,CAAEA,OAA9B,CAAuC,OAAO,CAAGtB,KAAK,CAACuB,gBAAvD,CAA0E,cAAc,CAAGvB,KAAK,CAACwB,cAAjG,EAAWF,OAAO,CAACG,GAAnB,CADQ,EAAV,CAFJ,EADA,EAhBA,GADJ,CA8BH,CAED,cAAe1B,CAAAA,IAAf","sourcesContent":["import React from \"react\";\nimport { api } from '../utils/api';\nimport Card from './Card'\n\nfunction Main(props) {\n\n  const [user, setUser] = React.useState({});\n  const [cards, setCards] = React.useState([]);\n\n  React.useEffect(() => {\n    api.getUserInfo()\n      .then(data => {\n        setUser({\n          name: data.name,\n          about: data.about,\n          avatar: data.avatar,\n        });\n      })\n      .catch(err => {\n        console.log(err);\n      });\n  }, []);\n\n  React.useEffect(() => {\n    api.getInitialCards()\n      .then(data => {\n        setCards(data);\n      })\n      .catch(err => {\n        console.log(err);\n      });\n  })\n\n    return(\n        <main className=\"main\">\n        <section className=\"profile-menu\">\n          <div className=\"profile-menu__profile-pic\">\n            <img className=\"profile-menu__avatar\" src={ user.avatar } id=\"avatar_image\" alt=\"\"></img>\n                    <button onClick={ props.onEditAvatarClick } className=\"profile-menu__avatar-button\" type=\"button\"></button>\n          </div>\n          <div className=\"profile-menu__info\">\n            <div className=\"profile-menu__alignment\">\n              <h1 className=\"profile-menu__full-name\">{ user.name }</h1>\n                        <button onClick={ props.onEditProfileClick }className=\"profile-menu__edit-button\" type=\"button\" aria-label=\"edit-button\"></button>\n            </div>\n            <p className=\"profile-menu__title\">{ user.about }</p>\n          </div>\n                <button onClick={ props.onAddPlaceClick } className=\"profile-menu__add-button\" type=\"button\" aria-label=\"add-button\"></button>\n        </section>\n\n        <section className=\"cards\">\n        <ul className=\"cards__list\">\n          {\n            cards.map((element) => (\n              <Card key={element._id} card={element} onClick={ props.onCardImageClick } updateCardData={ props.updateCardData } />\n            ))\n            }\n            </ul>\n        </section>\n\n        \n      </main>\n    )\n}\n\nexport default Main;"]},"metadata":{},"sourceType":"module"}